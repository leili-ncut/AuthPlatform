USE [AphpOcelot]
GO
SET IDENTITY_INSERT [dbo].[AhphConfigReRoutes] ON 
GO
INSERT [dbo].[AhphConfigReRoutes] ([CtgRouteId], [AhphId], [ReRouteId]) VALUES (1, 1, 1)
GO
SET IDENTITY_INSERT [dbo].[AhphConfigReRoutes] OFF
GO
SET IDENTITY_INSERT [dbo].[AhphGlobalConfiguration] ON 
GO
INSERT [dbo].[AhphGlobalConfiguration] ([AhphId], [GatewayName], [RequestIdKey], [BaseUrl], [DownstreamScheme], [ServiceDiscoveryProvider], [LoadBalancerOptions], [HttpHandlerOptions], [QoSOptions], [IsDefault], [InfoStatus]) VALUES (1, N'测试网关', N'test_gateway', NULL, NULL, NULL, NULL, NULL, NULL, 1, 1)
GO
SET IDENTITY_INSERT [dbo].[AhphGlobalConfiguration] OFF
GO
SET IDENTITY_INSERT [dbo].[AhphReRoute] ON 
GO
INSERT [dbo].[AhphReRoute] ([ReRouteId], [ItemId], [UpstreamPathTemplate], [UpstreamHttpMethod], [UpstreamHost], [DownstreamScheme], [DownstreamPathTemplate], [DownstreamHostAndPorts], [AuthenticationOptions], [RequestIdKey], [CacheOptions], [ServiceName], [LoadBalancerOptions], [QoSOptions], [DelegatingHandlers], [Priority], [InfoStatus]) VALUES (1, 1, N'/ctr/values', N'[ "GET" ]', N'', N'http', N'/api/Values', N'[{"Host": "localhost","Port": 9000 }]', N'', N'', N'', N'', N'', N'', N'', 0, 1)
GO
SET IDENTITY_INSERT [dbo].[AhphReRoute] OFF
GO
SET IDENTITY_INSERT [dbo].[AhphReRoutesItem] ON 
GO
INSERT [dbo].[AhphReRoutesItem] ([ItemId], [ItemName], [ItemDetail], [ItemParentId], [InfoStatus]) VALUES (1, N'测试分类', NULL, NULL, 1)
GO
SET IDENTITY_INSERT [dbo].[AhphReRoutesItem] OFF
GO
------------------------------------------------------------

USE [master]
GO
/****** Object:  Database [AphpOcelot]    Script Date: 2019/3/30 17:00:41 ******/
CREATE DATABASE [AphpOcelot]
 CONTAINMENT = NONE
 ON  PRIMARY 
( NAME = N'AphpOcelot', FILENAME = N'D:\Program Files\Microsoft SQL Server\MSSQL14.MSSQLSERVER01\MSSQL\DATA\AphpOcelot.mdf' , SIZE = 8192KB , MAXSIZE = UNLIMITED, FILEGROWTH = 65536KB )
 LOG ON 
( NAME = N'AphpOcelot_log', FILENAME = N'D:\Program Files\Microsoft SQL Server\MSSQL14.MSSQLSERVER01\MSSQL\DATA\AphpOcelot_log.ldf' , SIZE = 8192KB , MAXSIZE = 2048GB , FILEGROWTH = 65536KB )
GO
ALTER DATABASE [AphpOcelot] SET COMPATIBILITY_LEVEL = 140
GO
IF (1 = FULLTEXTSERVICEPROPERTY('IsFullTextInstalled'))
begin
EXEC [AphpOcelot].[dbo].[sp_fulltext_database] @action = 'enable'
end
GO
ALTER DATABASE [AphpOcelot] SET ANSI_NULL_DEFAULT OFF 
GO
ALTER DATABASE [AphpOcelot] SET ANSI_NULLS OFF 
GO
ALTER DATABASE [AphpOcelot] SET ANSI_PADDING OFF 
GO
ALTER DATABASE [AphpOcelot] SET ANSI_WARNINGS OFF 
GO
ALTER DATABASE [AphpOcelot] SET ARITHABORT OFF 
GO
ALTER DATABASE [AphpOcelot] SET AUTO_CLOSE OFF 
GO
ALTER DATABASE [AphpOcelot] SET AUTO_SHRINK OFF 
GO
ALTER DATABASE [AphpOcelot] SET AUTO_UPDATE_STATISTICS ON 
GO
ALTER DATABASE [AphpOcelot] SET CURSOR_CLOSE_ON_COMMIT OFF 
GO
ALTER DATABASE [AphpOcelot] SET CURSOR_DEFAULT  GLOBAL 
GO
ALTER DATABASE [AphpOcelot] SET CONCAT_NULL_YIELDS_NULL OFF 
GO
ALTER DATABASE [AphpOcelot] SET NUMERIC_ROUNDABORT OFF 
GO
ALTER DATABASE [AphpOcelot] SET QUOTED_IDENTIFIER OFF 
GO
ALTER DATABASE [AphpOcelot] SET RECURSIVE_TRIGGERS OFF 
GO
ALTER DATABASE [AphpOcelot] SET  DISABLE_BROKER 
GO
ALTER DATABASE [AphpOcelot] SET AUTO_UPDATE_STATISTICS_ASYNC OFF 
GO
ALTER DATABASE [AphpOcelot] SET DATE_CORRELATION_OPTIMIZATION OFF 
GO
ALTER DATABASE [AphpOcelot] SET TRUSTWORTHY OFF 
GO
ALTER DATABASE [AphpOcelot] SET ALLOW_SNAPSHOT_ISOLATION OFF 
GO
ALTER DATABASE [AphpOcelot] SET PARAMETERIZATION SIMPLE 
GO
ALTER DATABASE [AphpOcelot] SET READ_COMMITTED_SNAPSHOT OFF 
GO
ALTER DATABASE [AphpOcelot] SET HONOR_BROKER_PRIORITY OFF 
GO
ALTER DATABASE [AphpOcelot] SET RECOVERY FULL 
GO
ALTER DATABASE [AphpOcelot] SET  MULTI_USER 
GO
ALTER DATABASE [AphpOcelot] SET PAGE_VERIFY CHECKSUM  
GO
ALTER DATABASE [AphpOcelot] SET DB_CHAINING OFF 
GO
ALTER DATABASE [AphpOcelot] SET FILESTREAM( NON_TRANSACTED_ACCESS = OFF ) 
GO
ALTER DATABASE [AphpOcelot] SET TARGET_RECOVERY_TIME = 60 SECONDS 
GO
ALTER DATABASE [AphpOcelot] SET DELAYED_DURABILITY = DISABLED 
GO
EXEC sys.sp_db_vardecimal_storage_format N'AphpOcelot', N'ON'
GO
ALTER DATABASE [AphpOcelot] SET QUERY_STORE = OFF
GO
USE [AphpOcelot]
GO
/****** Object:  Table [dbo].[AhphAuthGroup]    Script Date: 2019/3/30 17:00:47 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[AhphAuthGroup](
	[GroupId] [int] IDENTITY(1,1) NOT NULL,
	[GroupName] [nvarchar](100) NOT NULL,
	[GroupDetail] [nvarchar](50) NULL,
	[InfoStatus] [int] NULL,
PRIMARY KEY CLUSTERED 
(
	[GroupId] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[AhphClientGroup]    Script Date: 2019/3/30 17:00:50 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[AhphClientGroup](
	[ClientGroupId] [int] IDENTITY(1,1) NOT NULL,
	[Id] [int] NULL,
	[GroupId] [int] NULL,
 CONSTRAINT [PK_AhphClientGroup] PRIMARY KEY CLUSTERED 
(
	[ClientGroupId] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[AhphClients]    Script Date: 2019/3/30 17:00:51 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[AhphClients](
	[Id] [int] IDENTITY(1,1) NOT NULL,
	[AbsoluteRefreshTokenLifetime] [int] NULL,
	[AccessTokenLifetime] [int] NULL,
	[AccessTokenType] [int] NULL,
	[AuthorizationCodeLifetime] [int] NULL,
	[AllowAccessTokensViaBrowser] [bit] NULL,
	[AllowOfflineAccess] [bit] NULL,
	[AllowPlainTextPkce] [bit] NULL,
	[AllowRememberConsent] [bit] NULL,
	[AlwaysIncludeUserClaimsInIdToken] [bit] NULL,
	[AlwaysSendClientClaims] [bit] NULL,
	[BackChannelLogoutSessionRequired] [bit] NULL,
	[BackChannelLogoutUri] [nvarchar](500) NULL,
	[ClientClaimsPrefix] [nvarchar](50) NULL,
	[ClientId] [nvarchar](50) NOT NULL,
	[ClientName] [nvarchar](200) NOT NULL,
	[ClientUri] [nvarchar](100) NULL,
	[ConsentLifetime] [int] NULL,
	[Descriptions] [nvarchar](500) NULL,
	[EnableLocalLogin] [bit] NULL,
	[Enabled] [bit] NULL,
	[FrontChannelLogoutSessionRequired] [bit] NULL,
	[FrontChannelLogoutUri] [nvarchar](100) NULL,
	[IdentityTokenLifetime] [int] NULL,
	[IncludeJwtId] [bit] NULL,
	[LogoUri] [nvarchar](150) NULL,
	[PairWiseSubjectSalt] [nvarchar](200) NULL,
	[ProtocolType] [nvarchar](50) NULL,
	[RefreshTokenExpiration] [int] NULL,
	[RefreshTokenUsage] [int] NULL,
	[RequireClientSecret] [bit] NULL,
	[RequireConsent] [bit] NULL,
	[RequirePkce] [bit] NULL,
	[SlidingRefreshTokenLifetime] [int] NULL,
	[UpdateAccessTokenClaimsOnRefresh] [bit] NULL,
PRIMARY KEY CLUSTERED 
(
	[Id] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[AhphConfigReRoutes]    Script Date: 2019/3/30 17:00:53 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[AhphConfigReRoutes](
	[CtgRouteId] [int] IDENTITY(1,1) NOT NULL,
	[AhphId] [int] NULL,
	[ReRouteId] [int] NULL,
 CONSTRAINT [PK_AHPHCONFIGREROUTES] PRIMARY KEY NONCLUSTERED 
(
	[CtgRouteId] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[AhphGlobalConfiguration]    Script Date: 2019/3/30 17:00:56 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[AhphGlobalConfiguration](
	[AhphId] [int] IDENTITY(1,1) NOT NULL,
	[GatewayName] [varchar](100) NOT NULL,
	[RequestIdKey] [varchar](100) NULL,
	[BaseUrl] [varchar](100) NULL,
	[DownstreamScheme] [varchar](50) NULL,
	[ServiceDiscoveryProvider] [varchar](500) NULL,
	[LoadBalancerOptions] [varchar](500) NULL,
	[HttpHandlerOptions] [varchar](500) NULL,
	[QoSOptions] [varchar](200) NULL,
	[IsDefault] [int] NOT NULL,
	[InfoStatus] [int] NOT NULL,
 CONSTRAINT [PK_AHPHGLOBALCONFIGURATION] PRIMARY KEY NONCLUSTERED 
(
	[AhphId] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[AhphReRoute]    Script Date: 2019/3/30 17:00:57 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[AhphReRoute](
	[ReRouteId] [int] IDENTITY(1,1) NOT NULL,
	[ItemId] [int] NULL,
	[UpstreamPathTemplate] [varchar](150) NOT NULL,
	[UpstreamHttpMethod] [varchar](50) NOT NULL,
	[UpstreamHost] [varchar](100) NULL,
	[DownstreamScheme] [varchar](50) NOT NULL,
	[DownstreamPathTemplate] [varchar](200) NOT NULL,
	[DownstreamHostAndPorts] [varchar](500) NULL,
	[AuthenticationOptions] [varchar](300) NULL,
	[RequestIdKey] [varchar](100) NULL,
	[CacheOptions] [varchar](200) NULL,
	[ServiceName] [varchar](100) NULL,
	[LoadBalancerOptions] [varchar](500) NULL,
	[QoSOptions] [varchar](200) NULL,
	[DelegatingHandlers] [varchar](200) NULL,
	[Priority] [int] NULL,
	[InfoStatus] [int] NOT NULL,
 CONSTRAINT [PK_AHPHREROUTE] PRIMARY KEY NONCLUSTERED 
(
	[ReRouteId] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[AhphReRouteGroupAuth]    Script Date: 2019/3/30 17:01:01 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[AhphReRouteGroupAuth](
	[AuthId] [int] IDENTITY(1,1) NOT NULL,
	[GroupId] [int] NULL,
	[ReRouteId] [int] NULL,
 CONSTRAINT [PK_AhphReRouteGroupAuth] PRIMARY KEY CLUSTERED 
(
	[AuthId] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[AhphReRoutesItem]    Script Date: 2019/3/30 17:01:01 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[AhphReRoutesItem](
	[ItemId] [int] IDENTITY(1,1) NOT NULL,
	[ItemName] [varchar](100) NOT NULL,
	[ItemDetail] [varchar](500) NULL,
	[ItemParentId] [int] NULL,
	[InfoStatus] [int] NOT NULL,
 CONSTRAINT [PK_AHPHREROUTESITEM] PRIMARY KEY NONCLUSTERED 
(
	[ItemId] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Index [Relationship_4_FK]    Script Date: 2019/3/30 17:01:05 ******/
CREATE NONCLUSTERED INDEX [Relationship_4_FK] ON [dbo].[AhphConfigReRoutes]
(
	[AhphId] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
GO
/****** Object:  Index [Relationship_5_FK]    Script Date: 2019/3/30 17:01:05 ******/
CREATE NONCLUSTERED INDEX [Relationship_5_FK] ON [dbo].[AhphConfigReRoutes]
(
	[ReRouteId] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
GO
/****** Object:  Index [分类路由信息_FK]    Script Date: 2019/3/30 17:01:05 ******/
CREATE NONCLUSTERED INDEX [分类路由信息_FK] ON [dbo].[AhphReRoute]
(
	[ItemId] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
GO
ALTER TABLE [dbo].[AhphGlobalConfiguration] ADD  DEFAULT ((0)) FOR [IsDefault]
GO
ALTER TABLE [dbo].[AhphGlobalConfiguration] ADD  DEFAULT ((1)) FOR [InfoStatus]
GO
ALTER TABLE [dbo].[AhphReRoute] ADD  DEFAULT ((1)) FOR [InfoStatus]
GO
ALTER TABLE [dbo].[AhphReRoutesItem] ADD  DEFAULT ((1)) FOR [InfoStatus]
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'配置路由主键' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'AhphConfigReRoutes', @level2type=N'COLUMN',@level2name=N'CtgRouteId'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'网关主键' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'AhphConfigReRoutes', @level2type=N'COLUMN',@level2name=N'AhphId'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'路由主键' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'AhphConfigReRoutes', @level2type=N'COLUMN',@level2name=N'ReRouteId'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'网关-路由,可以配置多个网关和多个路由' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'AhphConfigReRoutes'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'网关主键' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'AhphGlobalConfiguration', @level2type=N'COLUMN',@level2name=N'AhphId'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'网关名称' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'AhphGlobalConfiguration', @level2type=N'COLUMN',@level2name=N'GatewayName'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'全局请求默认key' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'AhphGlobalConfiguration', @level2type=N'COLUMN',@level2name=N'RequestIdKey'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'请求路由根地址' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'AhphGlobalConfiguration', @level2type=N'COLUMN',@level2name=N'BaseUrl'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'下游使用架构' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'AhphGlobalConfiguration', @level2type=N'COLUMN',@level2name=N'DownstreamScheme'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'服务发现全局配置,值为配置json' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'AhphGlobalConfiguration', @level2type=N'COLUMN',@level2name=N'ServiceDiscoveryProvider'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'全局负载均衡配置' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'AhphGlobalConfiguration', @level2type=N'COLUMN',@level2name=N'LoadBalancerOptions'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Http请求配置' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'AhphGlobalConfiguration', @level2type=N'COLUMN',@level2name=N'HttpHandlerOptions'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'请求安全配置,超时、重试、熔断' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'AhphGlobalConfiguration', @level2type=N'COLUMN',@level2name=N'QoSOptions'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'是否默认配置, 1 默认 0 默认' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'AhphGlobalConfiguration', @level2type=N'COLUMN',@level2name=N'IsDefault'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'当前状态, 1 有效 0 无效' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'AhphGlobalConfiguration', @level2type=N'COLUMN',@level2name=N'InfoStatus'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'网关全局配置表' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'AhphGlobalConfiguration'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'路由主键' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'AhphReRoute', @level2type=N'COLUMN',@level2name=N'ReRouteId'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'分类主键' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'AhphReRoute', @level2type=N'COLUMN',@level2name=N'ItemId'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'上游路径模板，支持正则' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'AhphReRoute', @level2type=N'COLUMN',@level2name=N'UpstreamPathTemplate'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'上游请求方法数组格式' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'AhphReRoute', @level2type=N'COLUMN',@level2name=N'UpstreamHttpMethod'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'上游域名地址' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'AhphReRoute', @level2type=N'COLUMN',@level2name=N'UpstreamHost'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'下游使用架构' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'AhphReRoute', @level2type=N'COLUMN',@level2name=N'DownstreamScheme'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'下游路径模板,与上游正则对应' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'AhphReRoute', @level2type=N'COLUMN',@level2name=N'DownstreamPathTemplate'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'下游请求地址和端口,静态负载配置' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'AhphReRoute', @level2type=N'COLUMN',@level2name=N'DownstreamHostAndPorts'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'授权配置,是否需要认证访问' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'AhphReRoute', @level2type=N'COLUMN',@level2name=N'AuthenticationOptions'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'全局请求默认key' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'AhphReRoute', @level2type=N'COLUMN',@level2name=N'RequestIdKey'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'缓存配置,常用查询和再次配置缓存' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'AhphReRoute', @level2type=N'COLUMN',@level2name=N'CacheOptions'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'服务发现名称,启用服务发现时生效' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'AhphReRoute', @level2type=N'COLUMN',@level2name=N'ServiceName'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'全局负载均衡配置' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'AhphReRoute', @level2type=N'COLUMN',@level2name=N'LoadBalancerOptions'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'请求安全配置,超时、重试、熔断' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'AhphReRoute', @level2type=N'COLUMN',@level2name=N'QoSOptions'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'委托处理方法,特定路由定义委托单独处理' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'AhphReRoute', @level2type=N'COLUMN',@level2name=N'DelegatingHandlers'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'路由优先级,多个路由匹配上，优先级高的先执行' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'AhphReRoute', @level2type=N'COLUMN',@level2name=N'Priority'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'当前状态, 1 有效 0 无效' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'AhphReRoute', @level2type=N'COLUMN',@level2name=N'InfoStatus'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'路由配置表' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'AhphReRoute'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'分类主键' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'AhphReRoutesItem', @level2type=N'COLUMN',@level2name=N'ItemId'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'分类名称' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'AhphReRoutesItem', @level2type=N'COLUMN',@level2name=N'ItemName'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'分类描述' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'AhphReRoutesItem', @level2type=N'COLUMN',@level2name=N'ItemDetail'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'上级分类,顶级节点为空' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'AhphReRoutesItem', @level2type=N'COLUMN',@level2name=N'ItemParentId'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'当前状态, 1 有效 0 无效' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'AhphReRoutesItem', @level2type=N'COLUMN',@level2name=N'InfoStatus'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'路由分类表' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'AhphReRoutesItem'
GO
USE [master]
GO
ALTER DATABASE [AphpOcelot] SET  READ_WRITE 
GO
